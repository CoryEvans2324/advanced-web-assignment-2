(this["webpackJsonpadvanced-web-assignment-2"]=this["webpackJsonpadvanced-web-assignment-2"]||[]).push([[0],{58:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(22),c=a.n(r),i=(a(58),a(3)),o=a(4),l=a(6),d=a(5),j=a(11),h=a(9),u="UPDATE_BOOKIN_FIELD",b="RESET_BOOKIN_STATE",p="VALIDATE_BOOKIN_FIELDS",m="BOOKIN_FORM_UNLOADED",x="CLEAR_BOOKIN_ERROR",O="ADD_COURTESY_IPHONE",f="ADD_COURTESY_OTHER",v="ADD_COURTESY_CHARGER",g="REMOVED_COURTESY_LINE_ITEM",y="UPDATE_FAQ_SEARCH_FIELD",N="LOAD_FAQ_DATA",w="LOAD_STORE_LOCATIONS",C="SET_USER_LOCATION",k=a(1);function D(e){var t="grid gap-2 sm:grid-cols-2";"checkbox"===e.type&&(t="flex space-x-2 space-x-reverse items-center flex-row-reverse justify-end");var a=!1;e.disabled&&(a=!0,t+=" text-gray-700");var s=Object(k.jsxs)("label",{htmlFor:e.name,className:"flex items-center select-none",children:[e.label,"\xa0",e.required&&Object(k.jsx)("span",{className:"text-red-500",children:"*"})]});return e.choices?Object(k.jsxs)("div",{className:t,children:[s,Object(k.jsx)("select",{name:e.name,id:e.name,value:e.value,onChange:e.onChange,disabled:a,children:e.choices.map((function(e){return Object(k.jsx)("option",{value:e,children:e},e)}))})]}):Object(k.jsxs)("div",{className:t,children:[s,e.isTextArea?Object(k.jsx)("textarea",{type:e.type,name:e.name,id:e.name,value:e.value,onChange:e.onChange,placeholder:e.placeholder,required:e.required}):Object(k.jsx)("input",{ref:e.inputRef,type:e.type,name:e.name,id:e.name,value:e.value,onChange:e.onChange,placeholder:e.placeholder,required:e.required,disabled:a})]})}var T=a(33),F=a(41),S=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("table",{className:"bg-white border-collapse",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"w-4/6 bg-gray-200 border border-black px-2 py-1",children:"Item"}),Object(k.jsx)("th",{className:"w-2/6 bg-gray-200 border border-black px-2 py-1",children:"Cost"})]})}),Object(k.jsx)("tbody",{children:this.props.lineItems.map((function(t,a){return Object(k.jsxs)("tr",{className:Object(T.a)("group select-none",e.props.disabled?"":"cursor-pointer"),onClick:function(){e.props.disabled||e.props.removeLineItem(a)},children:[Object(k.jsx)("td",{className:Object(T.a)("border border-black px-2 py-1",!e.props.disabled&&"group-hover:bg-red-400"),children:Object(k.jsx)("div",{children:t.name})}),Object(k.jsx)("td",{className:Object(T.a)("border border-black px-2 py-1",!e.props.disabled&&"group-hover:bg-red-400"),children:Object(k.jsxs)("div",{className:"relative flex justify-between",children:[Object(k.jsxs)("div",{children:["$",t.cost.toFixed(2)]}),!e.props.disabled&&Object(k.jsx)(F.a,{})]})})]},a)}))})]})}}]),a}(n.a.Component),I=Object(h.c)((function(e){return{lineItems:e.bookin.lineItems}}),(function(e){return{removeLineItem:function(t){return e({type:g,index:t})}}}))(S),q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={itemType:"Iphone 7"},e.addLineItem=function(){var t=e.props,a=t.addIphone,s=t.addOtherPhone,n=t.addCharger,r=e.state.itemType;r.includes("Iphone")?a(r):"Charger"===r?n():s(r)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(k.jsx)("div",{className:"flex-1 bg-teal",children:Object(k.jsxs)("div",{className:"grid gap-2 px-6 py-3",children:[Object(k.jsx)("h1",{className:"text-3xl font-semibold",children:"Courtesy Phone"}),Object(k.jsx)(D,{label:"Item Type",name:"itemType",type:"text",value:this.state.itemType,onChange:function(t){return e.setState({itemType:t.target.value})},choices:["Iphone 7","Iphone 8","Iphone X","Samsung Galaxy S20","Samsung Galaxy S21","Charger"]}),Object(k.jsx)("button",{className:"py-1 bg-white tracking-wide uppercase",type:"button",onClick:this.addLineItem,children:"Add"}),Object(k.jsx)(I,{})]})})}}]),a}(n.a.Component),E=Object(h.c)(null,(function(e){return{addIphone:function(t){return e({type:O,cost:275,name:t})},addOtherPhone:function(t){return e({type:f,cost:100,name:t})},addCharger:function(){return e({type:v,cost:30,name:"Charger"})}}}))(q),A=a(2),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onFieldChange=function(t){e.props.updateState(t.target.name,t.target.value)},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(k.jsxs)("div",{className:"flex flex-col space-y-2 px-6 py-3 bg-lightYellow",children:[Object(k.jsx)("h1",{className:"text-3xl font-semibold",children:"Customer Details"}),Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)("h1",{children:"Customer Type"}),Object(k.jsxs)("div",{className:"px-4",children:[Object(k.jsxs)("label",{htmlFor:"individual",className:"flex space-x-2 items-center",children:[Object(k.jsx)("input",{type:"radio",name:"customerType",id:"individual",value:"individual",checked:"individual"===this.props.customerType,onChange:this.onFieldChange}),Object(k.jsx)("span",{children:"Individual"})]}),Object(k.jsxs)("label",{htmlFor:"business",className:"flex space-x-2 items-center",children:[Object(k.jsx)("input",{type:"radio",name:"customerType",id:"business",value:"business",checked:"business"===this.props.customerType,onChange:this.onFieldChange}),Object(k.jsx)("span",{children:"Business"})]})]})]}),Object(k.jsx)(D,{label:"Title",name:"title",type:"text",required:!0,onChange:this.onFieldChange,value:this.props.title,choices:["Mr","Mrs","Ms","Miss","Dr"]}),Object(k.jsx)(D,{label:"First Name",name:"firstName",type:"text",onChange:this.onFieldChange,value:this.props.firstName,required:!0}),Object(k.jsx)(D,{label:"Last Name",name:"lastName",type:"text",onChange:this.onFieldChange,value:this.props.lastName,required:!0}),Object(k.jsx)(D,{label:"Street",name:"street",type:"text",onChange:this.onFieldChange,value:this.props.street,required:!0}),Object(k.jsx)(D,{label:"Suburb",name:"suburb",type:"text",onChange:this.onFieldChange,value:this.props.suburb}),Object(k.jsx)(D,{label:"City",name:"city",type:"text",onChange:this.onFieldChange,value:this.props.city,required:!0}),Object(k.jsx)(D,{label:"Post Code",name:"postCode",type:"text",onChange:this.onFieldChange,value:this.props.postCode}),Object(k.jsx)(D,{label:"Phone Number",name:"phoneNumber",type:"tel",onChange:this.onFieldChange,value:this.props.phoneNumber,required:!0}),Object(k.jsx)(D,{label:"Email",name:"email",type:"email",onChange:this.onFieldChange,value:this.props.email,required:!0})]})}}]),a}(n.a.Component),M=Object(h.c)((function(e){return Object(A.a)({},e.bookin)}),(function(e){return{updateState:function(t,a){return e({type:u,field:t,value:a})}}}))(L),R=function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15,n=0;if("business"!==a)for(var r=0;r<e.length;r++){var c=e[r];n+=c.cost}var i=t?0:85,o="business"===a?"No Bond":"$".concat(n.toFixed(2)),l="$".concat(i.toFixed(2)),d=n+i,j="$".concat(d.toFixed(2)),h=d*s,u="$".concat(h.toFixed(2)),b=d+h,p="$".concat(b.toFixed(2));return{bondText:o,serviceFeeText:l,totalText:j,gstText:u,totalGstText:p}},_=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=R(this.props.lineItems,this.props.underWarranty,this.props.customerType),t=e.bondText,a=e.serviceFeeText,s=e.totalText,n=e.gstText,r=e.totalGstText;return Object(k.jsx)("div",{className:"flex-1 bg-orange",children:Object(k.jsxs)("div",{className:"grid gap-2 px-6 py-3",children:[Object(k.jsx)("h1",{className:"text-3xl font-semibold",children:"Cost"}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[Object(k.jsx)("h2",{children:"Bond:"}),Object(k.jsx)("input",{disabled:!0,className:"bg-white px-1",value:t}),Object(k.jsx)("h2",{children:"Service Fee:"}),Object(k.jsx)("input",{disabled:!0,className:"bg-white px-1",value:a}),Object(k.jsx)("h2",{children:"Total:"}),Object(k.jsx)("input",{disabled:!0,className:"bg-white px-1",value:s}),Object(k.jsx)("h2",{children:"GST:"}),Object(k.jsx)("input",{disabled:!0,className:"bg-white px-1",value:n}),Object(k.jsx)("h2",{children:"Total(+GST):"}),Object(k.jsx)("input",{disabled:!0,className:"bg-white px-1",value:r})]})]})})}}]),a}(n.a.Component),P=Object(h.c)((function(e){return Object(A.a)({},e.bookin)}))(_),W=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={underWarrantyDisabled:!1},e.underWarrantyRef=n.a.createRef(),e.onFieldChange=function(t){var a,s;if("checkbox"!==t.target.type){if(e.props.updateState(t.target.name,t.target.value),"purchaseDate"===t.target.name){var n=new Date,r=new Date(t.target.value);r instanceof Date&&!isNaN(r)||(r=new Date(0)),(a=r,(s=n).getMonth()-a.getMonth()+12*(s.getFullYear()-a.getFullYear()))>24?(e.props.updateState("underWarranty",!1),e.setState({underWarrantyDisabled:!0}),e.underWarrantyRef.current.checked=!1):e.setState({underWarrantyDisabled:!1})}}else e.props.updateState(t.target.name,t.target.checked)},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(k.jsxs)("div",{className:"flex flex-col space-y-2 px-6 py-3 bg-lightSky",children:[Object(k.jsx)("h1",{className:"text-3xl font-semibold",children:"Repair Details"}),Object(k.jsx)(D,{label:"Purchase Date",name:"purchaseDate",type:"date",value:this.props.purchaseDate,onChange:this.onFieldChange,required:!0}),Object(k.jsx)(D,{label:"Repair Date",name:"repairDate",type:"date",value:this.props.repairDate,onChange:this.onFieldChange,required:!0}),Object(k.jsx)("div",{className:"px-4",children:Object(k.jsx)(D,{label:"Under Warranty",name:"underWarranty",type:"checkbox",inputRef:this.underWarrantyRef,value:this.props.underWarrenty,onChange:this.onFieldChange,disabled:this.state.underWarrantyDisabled})}),Object(k.jsx)(D,{label:"IMEI Number",name:"imeiNumber",type:"text",value:this.props.imeiNumber,onChange:this.onFieldChange,required:!0}),Object(k.jsx)(D,{label:"Make",name:"make",type:"text",value:this.props.make,onChange:this.onFieldChange,required:!0,choices:["Apple","LG","Motorola","Nokia","Samsung","Sony","Other"]}),Object(k.jsx)(D,{label:"Model Number",name:"modelNumber",type:"text",value:this.props.modelNumber,onChange:this.onFieldChange,required:!0}),Object(k.jsx)(D,{label:"Fault Category",name:"faultCategory",type:"text",value:this.props.faultCategory,onChange:this.onFieldChange,required:!0,choices:["Battery","Charger","Display","Headphone","Microphone","Other"]}),Object(k.jsx)(D,{label:"Description",name:"description",type:"text",value:this.props.description,onChange:this.onFieldChange,required:!0,isTextArea:!0})]})}}]),a}(n.a.Component),B=Object(h.c)((function(e){return Object(A.a)({},e.bookin)}),(function(e){return{updateState:function(t,a){return e({type:u,field:t,value:a})}}}))(W),U=a(18),V=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e="rounded shadow-sm bg-opacity-90 backdrop-blur-sm flex justify-between items-center "+{warning:"bg-yellow-400",error:"bg-red-400"}[this.props.type]||!1;return Object(k.jsx)("div",{className:"relative select-none",children:Object(k.jsxs)("div",{className:e,children:[Object(k.jsx)("h1",{className:"px-2 py-1 font-semibold",children:this.props.message}),Object(k.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})})}}]),a}(n.a.Component),G=V,H=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={},e.CustomerDetailsRef=n.a.createRef(),e.submit=function(t){t.preventDefault(),e.props.validate()},e.reset=function(t){t.preventDefault(),e.props.reset()},e}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("form",{className:"relative grid md:grid-cols-2 xl:grid-cols-3",onSubmit:this.submit,children:[Object(k.jsx)("ul",{className:"absolute top-2 left-2 flex flex-col space-y-1 min-w-[280px]",children:this.props.formValidErrors.map((function(t,a){return Object(k.jsx)("li",{onClick:function(){e.props.clearError(a)},className:"cursor-pointer",children:Object(k.jsx)(G,{type:"error",message:t.message})},a)}))}),Object(k.jsx)(M,{}),Object(k.jsx)(B,{}),Object(k.jsxs)("div",{className:"flex flex-col lg:flex-row md:col-span-2 xl:flex-col xl:col-span-1",children:[Object(k.jsx)(E,{}),Object(k.jsx)(P,{})]}),Object(k.jsx)("div",{className:"col-span-full bg-orange py-4",children:Object(k.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[Object(k.jsx)("button",{className:"w-32 py-2 bg-white rounded-sm",type:"reset",onClick:this.reset,children:"Reset"}),Object(k.jsx)("button",{className:"w-32 py-2 bg-white rounded-sm",type:"Submit",children:"Submit"}),Object(k.jsx)(U.a,{to:"/faq",className:"w-32 py-2 bg-white rounded-sm block text-center",children:"FAQ"})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.formValid&&e.submit(),e.formValidErrors.length>0&&window.scrollTo({top:0,behavior:"smooth"}),null}}]),a}(n.a.Component),$=Object(h.c)((function(e){return{formValid:e.bookin.formValid,formValidErrors:e.bookin.formValidErrors}}),(function(e){return{validate:function(){return e({type:p})},submit:function(){return e(Object(j.d)("/jobsheet"))},reset:function(){return e({type:b})},onUnmount:function(){return e({type:m})},clearError:function(t){return e({type:x,index:t})}}}))(H),Q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e="bg-green-500";return Object(k.jsxs)("div",{className:"flex justify-between",children:[Object(k.jsx)("div",{className:"flex items-center ml-4 md:ml-12",children:Object(k.jsx)("h1",{className:"text-4xl text-white font-bold",children:this.props.title})}),Object(k.jsxs)("nav",{className:"grid sm:grid-cols-2 pb-12",children:[Object(k.jsx)(U.b,{exact:!0,to:"/",className:"bg-teal text-center px-8 py-1",activeClassName:e,children:"Home"}),Object(k.jsx)(U.b,{to:"/advanced",className:"bg-teal text-center px-8 py-1",activeClassName:e,children:"Extension"})]})]})}}]),a}(n.a.Component),Y=Q,z=a(7),J=function(e){return e?("string"===typeof e&&(e=new Date(e)),e.toLocaleDateString(window.navigator.language,{year:"numeric",month:"short",day:"2-digit"})):""},K=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=parseInt(window.localStorage.getItem("jobNumber"))||1;window.localStorage.setItem("jobNumber",e+1);var t=this.props.street,a=[this.props.suburb,this.props.city,this.props.postCode].filter((function(e){return e&&""!==e})).join(", "),s=R(this.props.lineItems,this.props.underWarranty,this.props.customerType),n=s.bondText,r=s.serviceFeeText,c=s.totalText,i=s.gstText,o=s.totalGstText;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"w-[21cm] mx-auto bg-white border my-4",children:[Object(k.jsxs)("div",{className:"flex justify-between p-4 bg-gray-200",children:[Object(k.jsx)("h1",{className:"text-4xl",children:"Repair Booking"}),Object(k.jsxs)("div",{className:"flex flex-col items-end",children:[Object(k.jsx)("h2",{children:"Amount Due"}),Object(k.jsx)("h3",{className:"font-semibold",children:o})]})]}),Object(k.jsx)("div",{className:"py-2 px-4",children:Object(k.jsxs)("div",{className:"flex justify-between",children:[Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)("h2",{className:"text-xl",children:"Customer"}),Object(k.jsx)("h3",{children:this.props.title+" "+this.props.firstName+" "+this.props.lastName}),Object(k.jsx)("h3",{children:t}),Object(k.jsx)("h3",{children:a})]}),Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)("h2",{className:"text-xl",children:"Repair Job"}),Object(k.jsxs)("div",{className:"grid grid-cols-2 mx-2",children:[Object(k.jsx)("h3",{children:"Job Number:"}),Object(k.jsx)("span",{children:e}),Object(k.jsx)("h3",{children:"Invoice Date:"}),Object(k.jsx)("span",{children:J(new Date)}),Object(k.jsx)("h3",{children:"Payment Date:"}),Object(k.jsx)("span",{})]})]})]})}),Object(k.jsx)("hr",{className:"border-black mx-4"}),Object(k.jsxs)("div",{className:"py-2 px-4",children:[Object(k.jsx)("h2",{children:"Repair Details"}),Object(k.jsxs)("div",{className:"grid grid-cols-2 mx-4 text-sm",children:[Object(k.jsx)("h3",{className:"font-semibold",children:"Purchase Date:"}),Object(k.jsx)("span",{children:J(this.props.purchaseDate)}),Object(k.jsx)("h3",{className:"font-semibold",children:"Repair Date:"}),Object(k.jsx)("span",{children:J(this.props.repairDate)}),Object(k.jsx)("h3",{className:"font-semibold",children:"Under Warranty:"}),Object(k.jsx)("span",{children:this.props.underWarranty?Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsx)("span",{children:"Yes"}),Object(k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-[1em]",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(k.jsx)("path",{d:"M5 12l5 5l10 -10"})]})]}):Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsx)("span",{children:"No"}),Object(k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-[1em]",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(k.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(k.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]})}),Object(k.jsx)("h3",{className:"font-semibold",children:"IMEI Number:"}),Object(k.jsx)("span",{children:this.props.imeiNumber}),Object(k.jsx)("h3",{className:"font-semibold",children:"Device Make:"}),Object(k.jsx)("span",{children:this.props.make}),Object(k.jsx)("h3",{className:"font-semibold",children:"Device Model:"}),Object(k.jsx)("span",{children:this.props.modelNumber}),Object(k.jsx)("h3",{className:"font-semibold",children:"Fault Category:"}),Object(k.jsx)("span",{children:this.props.faultCategory}),Object(k.jsx)("h3",{className:"font-semibold",children:"Description:"}),Object(k.jsx)("p",{className:"col-span-full px-4",children:this.props.description})]})]}),Object(k.jsxs)("div",{className:"py-2 px-4",children:[Object(k.jsx)("h2",{children:"Courtesy Loan Device Details"}),Object(k.jsx)(I,{disabled:!0})]}),Object(k.jsx)("hr",{className:"border-black mx-4 my-4"}),Object(k.jsxs)("div",{className:"flex justify-between px-2 pb-6",children:[Object(k.jsxs)("div",{className:"flex-1 px-2",children:[Object(k.jsx)("h2",{className:"font-semibold text-lg",children:"Phone Fix Service"}),Object(k.jsxs)("p",{className:"text-sm text-gray-600",children:["501 Glouscester Street,",Object(k.jsx)("br",{}),"Napier, HB 4112",Object(k.jsx)("br",{}),"New Zealand"]})]}),Object(k.jsxs)("div",{className:"flex flex-col items-start",children:[Object(k.jsx)("h2",{className:"font-semibold text-lg",children:"Totals"}),Object(k.jsxs)("div",{className:"flex-shrink grid grid-cols-2 w-56",children:[Object(k.jsx)("h2",{children:"Bond:"}),Object(k.jsx)("input",{disabled:!0,className:"bg-transparent",value:n}),Object(k.jsx)("h2",{children:"Service Fee:"}),Object(k.jsx)("input",{disabled:!0,className:"bg-transparent",value:r}),Object(k.jsx)("h2",{children:"Total:"}),Object(k.jsx)("input",{disabled:!0,className:"bg-transparent",value:c}),Object(k.jsx)("h2",{children:"GST:"}),Object(k.jsx)("input",{disabled:!0,className:"bg-transparent",value:i}),Object(k.jsx)("h2",{className:"font-semibold",children:"Total(+GST):"}),Object(k.jsx)("input",{disabled:!0,className:"bg-transparent font-semibold",value:o})]})]})]})]})})}}]),a}(n.a.Component),Z=Object(h.c)((function(e){return Object(A.a)({},e.bookin)}))(K),X=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(k.jsx)("div",{className:"max-w-xl mx-auto mt-4",children:Object(k.jsxs)("div",{className:"bg-white rounded shadow p-4",children:[Object(k.jsx)("h1",{className:"text-center text-2xl",children:"Statement of Authenticity"}),Object(k.jsxs)("h2",{className:"mt-4",children:["I, ",Object(k.jsx)("strong",{children:this.props.name}),", confirm that:"]}),Object(k.jsxs)("ul",{className:"list-disc ml-4",children:[Object(k.jsx)("li",{children:Object(k.jsx)("p",{children:"This is an original assessment and is entirely my own work."})}),Object(k.jsx)("li",{children:Object(k.jsx)("p",{children:"It contains no material previously published or written by another person or myself except where due acknowledgement is made in the text."})}),Object(k.jsx)("li",{children:Object(k.jsx)("p",{children:"No material which to a substantial extent, has been submitted for any other academic course, is included without acknowledgement."})})]})]})})}}]),a}(n.a.Component),ee=X,te=a(43),ae=a.n(te),se=a(44),ne=a.n(se),re=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://coryevans2324.github.io/advanced-web-assignment-2/data/faqs.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.props.loadFAQData(t)}))}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"flex flex-col items-center mt-4",children:Object(k.jsx)(ne.a,{botDelay:100,userDelay:100,steps:[{id:"1",message:"Ask me a question.",trigger:"prompt"},{id:"prompt",user:!0,trigger:"result"},{id:"result",component:Object(k.jsx)(ie,{faqs:this.props.faq.faqs}),waitAction:!0,trigger:"1"}]})})}}]),a}(s.Component),ce=Object(h.c)((function(e){return{faq:e.faq}}),(function(e){return{loadFAQData:function(t){return e({type:N,payload:t})}}}))(re),ie=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={answer:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.previousStep.message,t=ae.a.go(e,this.props.faqs,{key:"question"});console.log(t),this.setState({answer:t.length>0?t[0].obj.answer:"Sorry, I don't know the answer to that question."}),this.props.triggerNextStep()}},{key:"render",value:function(){return Object(k.jsx)("h1",{children:this.state.answer})}}]),a}(s.Component),oe=a(74),le=a(77),de=a(78),je=a(75),he=a(76),ue=(a(70),a(48)),be=a(16),pe=new(a.n(be).a.icon)({iconUrl:ue.a,iconSize:[25,41],iconAnchor:[13,41]}),me=function(e){return e*Math.PI/180},xe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).map=null,e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://coryevans2324.github.io/advanced-web-assignment-2/data/stores.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.props.loadLocations(t)})),navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var a;console.log(t),e.props.setUserLocation({lat:t.coords.latitude,lon:t.coords.longitude}),null===(a=e.map)||void 0===a||a.flyTo([t.coords.latitude,t.coords.longitude],13)}))}},{key:"render",value:function(){var e=this,t=this.props.locations.map((function(t){var a=0;return e.props.position&&(a=function(e,t,a,s){var n=me(a-e),r=me(s-t);e=me(e),a=me(a);var c=Math.sin(n/2)*Math.sin(n/2)+Math.sin(r/2)*Math.sin(r/2)*Math.cos(e)*Math.cos(a);return 2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*6371}(e.props.position.lat,e.props.position.lon,t.lat,t.lon)),Object(A.a)(Object(A.a)({},t),{},{distance:a})}));return t.sort((function(e,t){return e.distance-t.distance})),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(oe.a,{center:[-38.967649,176.047433],zoom:7,style:{height:"500px"},whenCreated:function(t){e.map=t},children:[Object(k.jsx)(le.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),this.props.position&&Object(k.jsx)(de.a,{center:[this.props.position.lat,this.props.position.lon],radius:30,className:"animate-pulse"}),t.map((function(e,t){return Object(k.jsx)(je.a,{position:[e.lat,e.lon],icon:pe,children:Object(k.jsx)(he.a,{children:e.name})},t)}))]}),Object(k.jsxs)("ul",{className:"max-w-md mx-auto bg-white mt-4 rounded-sm shadow p-4",children:[Object(k.jsxs)("li",{className:"flex justify-between",children:[Object(k.jsx)("h3",{className:"font-semibold",children:"Store"}),Object(k.jsx)("h3",{className:"font-semibold",children:"Distance"})]}),t.map((function(t,a){return Object(k.jsxs)("li",{className:"flex justify-between hover:bg-gray-200 shadow-sm px-2 py-1 my-1 rounded-sm cursor-pointer",onClick:function(){e.map.flyTo([t.lat,t.lon],13,{duration:2})},children:[Object(k.jsx)("span",{children:t.name}),Object(k.jsxs)("span",{children:[t.distance.toFixed(2),"km"]})]},a)}))]})]})}}]),a}(n.a.Component),Oe=Object(h.c)((function(e){return{locations:e.storeLocations.locations,position:e.storeLocations.currentUserLocation}}),(function(e){return{loadLocations:function(t){return e({type:w,payload:t})},setUserLocation:function(t){return e({type:C,payload:t})}}}))(xe),fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)("nav",{className:"bg-teal",children:Object(k.jsxs)("ul",{className:"max-w-2xl mx-auto flex",children:[Object(k.jsx)("li",{children:Object(k.jsxs)(U.b,{to:"/advanced",exact:!0,className:"p-2 flex flex-col group",activeClassName:"children:w-4/5",children:["Authenticity",Object(k.jsx)("div",{className:"rounded-full bg-white h-1 w-2 mx-auto group-hover:w-4/5 group-active:w-4/5 transition-all"})]})}),Object(k.jsx)("li",{children:Object(k.jsxs)(U.b,{to:"/advanced/storemap",exact:!0,className:"p-2 flex flex-col group",activeClassName:"children:w-4/5",children:["Store Map",Object(k.jsx)("div",{className:"rounded-full bg-white h-1 w-2 mx-auto group-hover:w-4/5 group-active:w-4/5 transition-all"})]})}),Object(k.jsx)("li",{children:Object(k.jsxs)(U.b,{to:"/advanced/chatbot",exact:!0,className:"p-2 flex flex-col group",activeClassName:"children:w-4/5",children:["Chat Bot",Object(k.jsx)("div",{className:"rounded-full bg-white h-1 w-2 mx-auto group-hover:w-4/5 group-active:w-4/5 transition-all"})]})})]})}),Object(k.jsxs)(z.c,{children:[Object(k.jsx)(z.a,{path:"/advanced/storemap",component:Oe}),Object(k.jsx)(z.a,{path:"/advanced/chatbot",component:ce}),Object(k.jsx)(z.a,{path:"/advanced",children:Object(k.jsx)(ee,{name:"Cory Evans"})})]})]})}}]),a}(n.a.Component),ve=fe,ge=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).enabledCORSRef=n.a.createRef(),e.onSearchChange=function(t){e.props.updateSearchField(t.target.value)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://coryevans2324.github.io/advanced-web-assignment-2/data/faqs.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.props.loadFAQData(t)}))}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"bg-green-100 px-8 py-4",children:Object(k.jsxs)("div",{className:"max-w-[900px] mx-auto",children:[Object(k.jsx)("div",{children:Object(k.jsx)("input",{type:"text",placeholder:"search",className:"placeholder-shown:italic w-full",value:this.props.faq.query,onChange:this.onSearchChange})}),Object(k.jsx)("ul",{className:"mt-4 grid gap-4",children:this.props.faq.faqs.filter((e=this.props.faq.query,function(t){return t.question.toLowerCase().includes(e.toLowerCase())||t.answer.toLowerCase().includes(e.toLowerCase())})).map((function(e,t){return Object(k.jsx)("li",{className:"bg-yellow-100 shadow flex flex-col space-y-4 p-4",children:ye(e)},t)}))})]})});var e}}]),a}(n.a.Component);function ye(e){var t=e.question,a=e.answer;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h3",{children:t}),Object(k.jsx)("p",{children:a})]})}var Ne=Object(h.c)((function(e){return{faq:e.faq}}),(function(e){return{updateSearchField:function(t){return e({type:y,payload:t})},loadFAQData:function(t){return e({type:N,payload:t})}}}))(ge),we=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(k.jsxs)(z.c,{children:[Object(k.jsxs)(z.a,{path:"/advanced",children:[Object(k.jsx)(Y,{title:"Javascript Extension"}),Object(k.jsx)(ve,{})]}),Object(k.jsxs)(z.a,{path:"/faq",children:[Object(k.jsx)(Y,{title:"Phone Fix Booking FAQs"}),Object(k.jsx)(Ne,{})]}),Object(k.jsx)(z.a,{path:"/jobsheet",children:Object(k.jsx)(Z,{})}),Object(k.jsxs)(z.a,{path:"/",children:[Object(k.jsx)(Y,{title:"Phone Booking System"}),Object(k.jsx)($,{})]})]})}}]),a}(n.a.Component),Ce=we,ke=a(23),De=a(38),Te=a(12),Fe=a(21),Se=a(49),Ie=a(50),qe={query:"",faqs:[]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(A.a)(Object(A.a)({},e),{},{query:t.payload});case N:return Object(A.a)(Object(A.a)({},e),{},{faqs:t.payload});default:return e}},Ae=a(52),Le=a(31),Me={customerType:"individual",title:"Mr",firstName:"",lastName:"",phoneNumber:"",email:"",street:"",city:"",postCode:"",suburb:"",purchaseDate:"",repairDate:"",underWarranty:!1,imeiNumber:"",make:"Apple",modelNumber:"",faultCategory:"Battery",description:"",lineItems:[],formValid:!1,formValidErrors:[]},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(A.a)(Object(A.a)({},e),{},Object(Le.a)({},t.field,t.value));case O:case f:case v:return Object(A.a)(Object(A.a)({},e),{},{lineItems:[].concat(Object(Ae.a)(e.lineItems),[{name:t.name,cost:t.cost}])});case g:return Object(A.a)(Object(A.a)({},e),{},{lineItems:e.lineItems.filter((function(e,a){return a!==t.index}))});case b:return Me;case p:var a=_e(e);return Object(A.a)(Object(A.a)({},e),{},{formValidErrors:a,formValid:0===a.length});case x:return Object(A.a)(Object(A.a)({},e),{},{formValidErrors:e.formValidErrors.filter((function(e,a){return a!==t.index}))});case m:return Object(A.a)(Object(A.a)({},e),{},{formValidErrors:[],formValid:!1});default:return e}};function _e(e){var t=[];e.firstName.match(/^[a-zA-Z- ]+$/)&&e.lastName.match(/^[a-zA-Z- ]+$/)||t.push({message:"Please enter your name"}),4!==e.postCode.length&&t.push({message:"Please enter a valid postcode"}),e.phoneNumber.match(/^[0-9 ()\-+]+$/)||t.push({message:"Please enter a valid phone number"}),(e.email.length<5||!e.email.includes("@")||!e.email.split("@")[1].includes("."))&&t.push({message:"Please enter a valid email address"});var a=new Date,s=new Date(e.repairDate),n=new Date(e.purchaseDate);return s instanceof Date&&!isNaN(s)||t.push({message:"Repair date is not valid"}),n instanceof Date&&!isNaN(n)||t.push({message:"Purchase date is not valid"}),s<n&&t.push({message:"Repair date cannot be before purchase date"}),s>a&&t.push({message:"Repair date cannot be in the future"}),n>a&&t.push({message:"Purchase date cannot be in the future"}),15!==e.imeiNumber.length&&t.push({message:"IMEI number must be 15 digits long"}),t}var Pe={locations:[],currentUserLocation:null},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(A.a)(Object(A.a)({},e),{},{locations:t.payload});case C:return Object(A.a)(Object(A.a)({},e),{},{currentUserLocation:t.payload});default:return e}},Be=function(e){return Object(Fe.combineReducers)({router:Object(ke.b)(e),bookin:Re,faq:Ee,storeLocations:We})},Ue=new URL("https://coryevans2324.github.io/advanced-web-assignment-2"),Ve=null;if(Ue){var Ge=Ue.pathname.split("/");Ge.length>1&&(Ve=Ge[1])}var He=Object(Te.a)({basename:Ve}),$e=Object(De.a)(He),Qe=Object(Fe.createStore)(Be(He),Object(Se.composeWithDevTools)(Object(Fe.applyMiddleware)($e,Object(Ie.createLogger)())));c.a.render(Object(k.jsx)(h.a,{store:Qe,children:Object(k.jsx)(ke.a,{history:He,children:Object(k.jsx)(Ce,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.4576b9e0.chunk.js.map